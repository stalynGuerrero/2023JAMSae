<!DOCTYPE html>
<html lang="es" xml:lang="es">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.2 Preparing the supplies for STAN | Area-models-for-estimating-poverty-and-labor-market-indicators</title>
  <meta name="description" content="Area models for estimating poverty and labor market indicators" />
  <meta name="generator" content="bookdown 0.36 and GitBook 2.6.7" />

  <meta property="og:title" content="3.2 Preparing the supplies for STAN | Area-models-for-estimating-poverty-and-labor-market-indicators" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Area models for estimating poverty and labor market indicators" />
  <meta name="github-repo" content="psirusteam/HHS-Handbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.2 Preparing the supplies for STAN | Area-models-for-estimating-poverty-and-labor-market-indicators" />
  
  <meta name="twitter:description" content="Area models for estimating poverty and labor market indicators" />
  



<meta name="date" content="2023-12-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="estimation-procedure.html"/>
<link rel="next" href="area-models---arcsin-transformation..html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Area models for estimating poverty and labor market indicators</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Workshop material</a>
<ul>
<li class="chapter" data-level="" data-path="workshop-material-1.html"><a href="workshop-material-1.html"><i class="fa fa-check"></i>Workshop material</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="session-1--census-and-satellite-information.html"><a href="session-1--census-and-satellite-information.html"><i class="fa fa-check"></i><b>1</b> Session 1- Census and satellite information</a>
<ul>
<li class="chapter" data-level="1.1" data-path="use-of-satellite-imagery-and-sae.html"><a href="use-of-satellite-imagery-and-sae.html"><i class="fa fa-check"></i><b>1.1</b> Use of Satellite Imagery and SAE</a></li>
<li class="chapter" data-level="1.2" data-path="satellite-image-data-sources.html"><a href="satellite-image-data-sources.html"><i class="fa fa-check"></i><b>1.2</b> Satellite Image Data Sources</a></li>
<li class="chapter" data-level="1.3" data-path="google-earth-engine.html"><a href="google-earth-engine.html"><i class="fa fa-check"></i><b>1.3</b> Google Earth Engine</a></li>
<li class="chapter" data-level="1.4" data-path="installing-rgee.html"><a href="installing-rgee.html"><i class="fa fa-check"></i><b>1.4</b> Installing rgee</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="installing-rgee.html"><a href="installing-rgee.html#downloading-satellite-information"><i class="fa fa-check"></i><b>1.4.1</b> Downloading Satellite Information</a></li>
<li class="chapter" data-level="1.4.2" data-path="installing-rgee.html"><a href="installing-rgee.html#night-lights"><i class="fa fa-check"></i><b>1.4.2</b> Night Lights</a></li>
<li class="chapter" data-level="1.4.3" data-path="installing-rgee.html"><a href="installing-rgee.html#crop-cover"><i class="fa fa-check"></i><b>1.4.3</b> Crop Cover</a></li>
<li class="chapter" data-level="1.4.4" data-path="installing-rgee.html"><a href="installing-rgee.html#urban-cover"><i class="fa fa-check"></i><b>1.4.4</b> Urban Cover</a></li>
<li class="chapter" data-level="1.4.5" data-path="installing-rgee.html"><a href="installing-rgee.html#human-modification"><i class="fa fa-check"></i><b>1.4.5</b> Human Modification</a></li>
<li class="chapter" data-level="1.4.6" data-path="installing-rgee.html"><a href="installing-rgee.html#average-travel-time-to-hospital"><i class="fa fa-check"></i><b>1.4.6</b> Average Travel Time to Hospital</a></li>
<li class="chapter" data-level="1.4.7" data-path="installing-rgee.html"><a href="installing-rgee.html#average-travel-time-to-hospital-by-non-motorized-vehicle"><i class="fa fa-check"></i><b>1.4.7</b> Average Travel Time to Hospital by Non-Motorized Vehicle</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="population-and-housing-censuses.html"><a href="population-and-housing-censuses.html"><i class="fa fa-check"></i><b>1.5</b> Population and Housing Censuses</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="population-and-housing-censuses.html"><a href="population-and-housing-censuses.html#mapas-de-las-variables-con-información-censal."><i class="fa fa-check"></i><b>1.5.1</b> Mapas de las variables con información censal.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="session-2--generalized-variance-function.html"><a href="session-2--generalized-variance-function.html"><i class="fa fa-check"></i><b>2</b> Session 2- Generalized Variance Function</a>
<ul>
<li class="chapter" data-level="2.1" data-path="graphical-analysis.html"><a href="graphical-analysis.html"><i class="fa fa-check"></i><b>2.1</b> Graphical Analysis</a></li>
<li class="chapter" data-level="2.2" data-path="variance-model.html"><a href="variance-model.html"><i class="fa fa-check"></i><b>2.2</b> Variance Model</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="session-3--fay-herriot-model---poverty-estimation.html"><a href="session-3--fay-herriot-model---poverty-estimation.html"><i class="fa fa-check"></i><b>3</b> Session 3- Fay Herriot Model - Poverty Estimation</a>
<ul>
<li class="chapter" data-level="" data-path="session-3--fay-herriot-model---poverty-estimation.html"><a href="session-3--fay-herriot-model---poverty-estimation.html#area-model-for-poverty-estimation"><i class="fa fa-check"></i>Area Model for Poverty Estimation</a></li>
<li class="chapter" data-level="" data-path="session-3--fay-herriot-model---poverty-estimation.html"><a href="session-3--fay-herriot-model---poverty-estimation.html#optimal-predictor-of-p_d"><i class="fa fa-check"></i>Optimal Predictor of <span class="math inline">\(P_d\)</span></a></li>
<li class="chapter" data-level="3.1" data-path="estimation-procedure.html"><a href="estimation-procedure.html"><i class="fa fa-check"></i><b>3.1</b> Estimation Procedure</a></li>
<li class="chapter" data-level="3.2" data-path="preparing-the-supplies-for-stan.html"><a href="preparing-the-supplies-for-stan.html"><i class="fa fa-check"></i><b>3.2</b> Preparing the supplies for <code>STAN</code></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="preparing-the-supplies-for-stan.html"><a href="preparing-the-supplies-for-stan.html#results-of-the-model-for-observed-domains."><i class="fa fa-check"></i><b>3.2.1</b> Results of the model for observed domains.</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="area-models---arcsin-transformation..html"><a href="area-models---arcsin-transformation..html"><i class="fa fa-check"></i><b>3.3</b> Area models - ArcSin transformation.</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="area-models---arcsin-transformation..html"><a href="area-models---arcsin-transformation..html#estimation-procedure-1"><i class="fa fa-check"></i><b>3.3.1</b> Estimation procedure</a></li>
<li class="chapter" data-level="3.3.2" data-path="area-models---arcsin-transformation..html"><a href="area-models---arcsin-transformation..html#preparing-inputs-for-stan"><i class="fa fa-check"></i><b>3.3.2</b> Preparing Inputs for <code>STAN</code></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="benchmark-process.html"><a href="benchmark-process.html"><i class="fa fa-check"></i><b>3.4</b> Benchmark Process</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="benchmark-process.html"><a href="benchmark-process.html#results-validation"><i class="fa fa-check"></i><b>3.4.1</b> Results Validation</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="poverty-map.html"><a href="poverty-map.html"><i class="fa fa-check"></i><b>3.5</b> Poverty Map</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="session-4---area-model-for-labor-market-statistics.html"><a href="session-4---area-model-for-labor-market-statistics.html"><i class="fa fa-check"></i><b>4</b> Session 4 - Area model for labor market statistics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="definition-of-the-multinomial-model.html"><a href="definition-of-the-multinomial-model.html"><i class="fa fa-check"></i><b>4.1</b> Definition of the Multinomial Model</a></li>
<li class="chapter" data-level="4.2" data-path="loading-libraries.html"><a href="loading-libraries.html"><i class="fa fa-check"></i><b>4.2</b> Loading Libraries</a></li>
<li class="chapter" data-level="4.3" data-path="reading-the-survey-and-direct-estimates.html"><a href="reading-the-survey-and-direct-estimates.html"><i class="fa fa-check"></i><b>4.3</b> Reading the survey and direct estimates</a></li>
<li class="chapter" data-level="4.4" data-path="domain-selection.html"><a href="domain-selection.html"><i class="fa fa-check"></i><b>4.4</b> Domain Selection</a></li>
<li class="chapter" data-level="4.5" data-path="modeling-in-stan.html"><a href="modeling-in-stan.html"><i class="fa fa-check"></i><b>4.5</b> Modeling in <code>STAN</code></a></li>
<li class="chapter" data-level="4.6" data-path="preparing-supplies-for-stan.html"><a href="preparing-supplies-for-stan.html"><i class="fa fa-check"></i><b>4.6</b> Preparing supplies for <code>STAN</code></a></li>
<li class="chapter" data-level="4.7" data-path="model-validation.html"><a href="model-validation.html"><i class="fa fa-check"></i><b>4.7</b> Model validation</a>
<ul>
<li class="chapter" data-level="" data-path="model-validation.html"><a href="model-validation.html#fixed-effects"><i class="fa fa-check"></i>Fixed effects</a></li>
<li class="chapter" data-level="" data-path="model-validation.html"><a href="model-validation.html#random-effects"><i class="fa fa-check"></i>Random effects</a></li>
<li class="chapter" data-level="4.7.1" data-path="model-validation.html"><a href="model-validation.html#posterior-predictive-distribution"><i class="fa fa-check"></i><b>4.7.1</b> Posterior predictive distribution</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="parameter-estimation..html"><a href="parameter-estimation..html"><i class="fa fa-check"></i><b>4.8</b> Parameter estimation.</a></li>
<li class="chapter" data-level="4.9" data-path="estimation-of-standard-deviation-and-coefficient-of-variation.html"><a href="estimation-of-standard-deviation-and-coefficient-of-variation.html"><i class="fa fa-check"></i><b>4.9</b> Estimation of Standard Deviation and Coefficient of Variation</a></li>
<li class="chapter" data-level="4.10" data-path="metodología-de-benchmarking.html"><a href="metodología-de-benchmarking.html"><i class="fa fa-check"></i><b>4.10</b> Metodología de Benchmarking</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="metodología-de-benchmarking.html"><a href="metodología-de-benchmarking.html#grafico-de-validación-del-benchmarking"><i class="fa fa-check"></i><b>4.10.1</b> Grafico de validación del Benchmarking</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="labor-market-maps..html"><a href="labor-market-maps..html"><i class="fa fa-check"></i><b>4.11</b> Labor market maps.</a>
<ul>
<li class="chapter" data-level="" data-path="labor-market-maps..html"><a href="labor-market-maps..html#occupancy-rate-1"><i class="fa fa-check"></i>Occupancy Rate</a></li>
<li class="chapter" data-level="" data-path="labor-market-maps..html"><a href="labor-market-maps..html#unemployment-rate-1"><i class="fa fa-check"></i>Unemployment Rate</a></li>
<li class="chapter" data-level="" data-path="labor-market-maps..html"><a href="labor-market-maps..html#inactivo"><i class="fa fa-check"></i>Inactivo</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a Area models for estimating poverty and labor market indicators </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="preparing-the-supplies-for-stan" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Preparing the supplies for <code>STAN</code><a href="preparing-the-supplies-for-stan.html#preparing-the-supplies-for-stan" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><p>Splitting the database into observed and unobserved domains.</p>
<p>Observed domains.</p></li>
</ol>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="preparing-the-supplies-for-stan.html#cb27-1" tabindex="-1"></a>data_dir <span class="ot">&lt;-</span> base_FH <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(pobreza))</span></code></pre></div>
<p>Unobserved domains.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="preparing-the-supplies-for-stan.html#cb28-1" tabindex="-1"></a>data_syn <span class="ot">&lt;-</span></span>
<span id="cb28-2"><a href="preparing-the-supplies-for-stan.html#cb28-2" tabindex="-1"></a>  base_FH <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(data_dir <span class="sc">%&gt;%</span> <span class="fu">select</span>(dam2))</span>
<span id="cb28-3"><a href="preparing-the-supplies-for-stan.html#cb28-3" tabindex="-1"></a><span class="fu">tba</span>(data_syn[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>])</span></code></pre></div>
<table class="table table-striped lightable-classic" style="width: auto !important; margin-left: auto; margin-right: auto; font-family: Arial Narrow; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
dam2
</th>
<th style="text-align:right;">
pobreza
</th>
<th style="text-align:right;">
hat_var
</th>
<th style="text-align:right;">
area1
</th>
<th style="text-align:right;">
sex2
</th>
<th style="text-align:right;">
age
</th>
<th style="text-align:right;">
tiene_sanitario
</th>
<th style="text-align:right;">
tiene_electricidad
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
0101
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.5087
</td>
<td style="text-align:right;">
2.5043
</td>
<td style="text-align:right;">
0.0019
</td>
<td style="text-align:right;">
0.7596
</td>
</tr>
<tr>
<td style="text-align:left;">
0201
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.5147
</td>
<td style="text-align:right;">
0.5060
</td>
<td style="text-align:right;">
2.5517
</td>
<td style="text-align:right;">
0.0138
</td>
<td style="text-align:right;">
0.2342
</td>
</tr>
<tr>
<td style="text-align:left;">
0204
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.5300
</td>
<td style="text-align:right;">
2.6401
</td>
<td style="text-align:right;">
0.0042
</td>
<td style="text-align:right;">
0.5720
</td>
</tr>
<tr>
<td style="text-align:left;">
0206
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.5157
</td>
<td style="text-align:right;">
2.3750
</td>
<td style="text-align:right;">
0.0290
</td>
<td style="text-align:right;">
0.0285
</td>
</tr>
<tr>
<td style="text-align:left;">
0207
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.5097
</td>
<td style="text-align:right;">
2.4257
</td>
<td style="text-align:right;">
0.0465
</td>
<td style="text-align:right;">
0.1581
</td>
</tr>
<tr>
<td style="text-align:left;">
0208
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.5256
</td>
<td style="text-align:right;">
2.6193
</td>
<td style="text-align:right;">
0.0018
</td>
<td style="text-align:right;">
0.4508
</td>
</tr>
<tr>
<td style="text-align:left;">
0209
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.5149
</td>
<td style="text-align:right;">
2.4776
</td>
<td style="text-align:right;">
0.0066
</td>
<td style="text-align:right;">
0.3041
</td>
</tr>
<tr>
<td style="text-align:left;">
0210
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.9779
</td>
<td style="text-align:right;">
0.5194
</td>
<td style="text-align:right;">
2.5153
</td>
<td style="text-align:right;">
0.0144
</td>
<td style="text-align:right;">
0.2003
</td>
</tr>
<tr>
<td style="text-align:left;">
0211
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.5427
</td>
<td style="text-align:right;">
2.8148
</td>
<td style="text-align:right;">
0.0006
</td>
<td style="text-align:right;">
0.5348
</td>
</tr>
<tr>
<td style="text-align:left;">
0502
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.3699
</td>
<td style="text-align:right;">
0.4974
</td>
<td style="text-align:right;">
2.5265
</td>
<td style="text-align:right;">
0.0127
</td>
<td style="text-align:right;">
0.3983
</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: decimal">
<li><p>Defining the fixed-effects matrix.</p>
<p>Defines a linear model using the <code>formula()</code> function, incorporating various predictor variables such as age, ethnicity, unemployment rate, among others.</p>
<p>Utilizes the <code>model.matrix()</code> function to generate design matrices (<code>Xdat</code> and <code>Xs</code>) from the observed (<code>data_observed</code>) and unobserved (<code>data_unobserved</code>) data to use in building regression models. The <code>model.matrix()</code> function transforms categorical variables into binary (dummy) variables, allowing them to be used in modeling.</p></li>
</ol>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="preparing-the-supplies-for-stan.html#cb29-1" tabindex="-1"></a>formula_mod  <span class="ot">&lt;-</span> <span class="fu">formula</span>(<span class="sc">~</span>  ODDJOB <span class="sc">+</span> WORKED <span class="sc">+</span></span>
<span id="cb29-2"><a href="preparing-the-supplies-for-stan.html#cb29-2" tabindex="-1"></a>                         stable_lights_mean <span class="sc">+</span> </span>
<span id="cb29-3"><a href="preparing-the-supplies-for-stan.html#cb29-3" tabindex="-1"></a>                         accessibility_mean <span class="sc">+</span> </span>
<span id="cb29-4"><a href="preparing-the-supplies-for-stan.html#cb29-4" tabindex="-1"></a>                         urban.coverfraction_sum)</span>
<span id="cb29-5"><a href="preparing-the-supplies-for-stan.html#cb29-5" tabindex="-1"></a><span class="do">## Dominios observados</span></span>
<span id="cb29-6"><a href="preparing-the-supplies-for-stan.html#cb29-6" tabindex="-1"></a>Xdat <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(formula_mod, <span class="at">data =</span> data_dir)</span>
<span id="cb29-7"><a href="preparing-the-supplies-for-stan.html#cb29-7" tabindex="-1"></a></span>
<span id="cb29-8"><a href="preparing-the-supplies-for-stan.html#cb29-8" tabindex="-1"></a><span class="do">## Dominios no observados</span></span>
<span id="cb29-9"><a href="preparing-the-supplies-for-stan.html#cb29-9" tabindex="-1"></a>Xs <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(formula_mod, <span class="at">data =</span> data_syn)</span>
<span id="cb29-10"><a href="preparing-the-supplies-for-stan.html#cb29-10" tabindex="-1"></a><span class="fu">dim</span>(Xs)</span></code></pre></div>
<pre><code>## [1] 22  6</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="preparing-the-supplies-for-stan.html#cb31-1" tabindex="-1"></a><span class="fu">dim</span>(data_syn)</span></code></pre></div>
<pre><code>## [1] 22 30</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Creando lista de parámetros para <code>STAN</code></li>
</ol>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="preparing-the-supplies-for-stan.html#cb33-1" tabindex="-1"></a>sample_data <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb33-2"><a href="preparing-the-supplies-for-stan.html#cb33-2" tabindex="-1"></a>  <span class="at">N1 =</span> <span class="fu">nrow</span>(Xdat),   <span class="co"># Observed.</span></span>
<span id="cb33-3"><a href="preparing-the-supplies-for-stan.html#cb33-3" tabindex="-1"></a>  <span class="at">N2 =</span> <span class="fu">nrow</span>(Xs),   <span class="co"># Not observed.</span></span>
<span id="cb33-4"><a href="preparing-the-supplies-for-stan.html#cb33-4" tabindex="-1"></a>  <span class="at">p  =</span> <span class="fu">ncol</span>(Xdat),       <span class="co"># Number of predictors.</span></span>
<span id="cb33-5"><a href="preparing-the-supplies-for-stan.html#cb33-5" tabindex="-1"></a>  <span class="at">X  =</span> <span class="fu">as.matrix</span>(Xdat),  <span class="co"># Observed covariates.</span></span>
<span id="cb33-6"><a href="preparing-the-supplies-for-stan.html#cb33-6" tabindex="-1"></a>  <span class="at">Xs =</span> <span class="fu">as.matrix</span>(Xs),    <span class="co"># Not observed covariates.</span></span>
<span id="cb33-7"><a href="preparing-the-supplies-for-stan.html#cb33-7" tabindex="-1"></a>  <span class="at">y  =</span> <span class="fu">as.numeric</span>(data_dir<span class="sc">$</span>pobreza), <span class="co"># Direct estimation</span></span>
<span id="cb33-8"><a href="preparing-the-supplies-for-stan.html#cb33-8" tabindex="-1"></a>  <span class="at">sigma_e =</span> <span class="fu">sqrt</span>(data_dir<span class="sc">$</span>hat_var)   <span class="co"># Estimation error</span></span>
<span id="cb33-9"><a href="preparing-the-supplies-for-stan.html#cb33-9" tabindex="-1"></a>)</span></code></pre></div>
<p>Rutina implementada en <code>STAN</code></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="preparing-the-supplies-for-stan.html#cb34-1" tabindex="-1"></a>data {</span>
<span id="cb34-2"><a href="preparing-the-supplies-for-stan.html#cb34-2" tabindex="-1"></a>  int<span class="sc">&lt;</span>lower<span class="ot">=</span><span class="dv">0</span><span class="sc">&gt;</span> N1;   <span class="sc">/</span><span class="er">/</span> number of data items</span>
<span id="cb34-3"><a href="preparing-the-supplies-for-stan.html#cb34-3" tabindex="-1"></a>  int<span class="sc">&lt;</span>lower<span class="ot">=</span><span class="dv">0</span><span class="sc">&gt;</span> N2;   <span class="sc">/</span><span class="er">/</span> number of data items <span class="cf">for</span> prediction</span>
<span id="cb34-4"><a href="preparing-the-supplies-for-stan.html#cb34-4" tabindex="-1"></a>  int<span class="sc">&lt;</span>lower<span class="ot">=</span><span class="dv">0</span><span class="sc">&gt;</span> p;   <span class="sc">/</span><span class="er">/</span> number of predictors</span>
<span id="cb34-5"><a href="preparing-the-supplies-for-stan.html#cb34-5" tabindex="-1"></a>  matrix[N1, p] X;   <span class="sc">/</span><span class="er">/</span> predictor matrix</span>
<span id="cb34-6"><a href="preparing-the-supplies-for-stan.html#cb34-6" tabindex="-1"></a>  matrix[N2, p] Xs;   <span class="sc">/</span><span class="er">/</span> predictor matrix</span>
<span id="cb34-7"><a href="preparing-the-supplies-for-stan.html#cb34-7" tabindex="-1"></a>  vector[N1] y;      <span class="sc">/</span><span class="er">/</span> predictor matrix </span>
<span id="cb34-8"><a href="preparing-the-supplies-for-stan.html#cb34-8" tabindex="-1"></a>  vector[N1] sigma_e; <span class="sc">/</span><span class="er">/</span> known variances</span>
<span id="cb34-9"><a href="preparing-the-supplies-for-stan.html#cb34-9" tabindex="-1"></a>}</span>
<span id="cb34-10"><a href="preparing-the-supplies-for-stan.html#cb34-10" tabindex="-1"></a></span>
<span id="cb34-11"><a href="preparing-the-supplies-for-stan.html#cb34-11" tabindex="-1"></a>parameters {</span>
<span id="cb34-12"><a href="preparing-the-supplies-for-stan.html#cb34-12" tabindex="-1"></a>  vector[p] beta;       <span class="sc">/</span><span class="er">/</span> coefficients <span class="cf">for</span> predictors</span>
<span id="cb34-13"><a href="preparing-the-supplies-for-stan.html#cb34-13" tabindex="-1"></a>  real<span class="sc">&lt;</span>lower<span class="ot">=</span><span class="dv">0</span><span class="sc">&gt;</span> sigma2_u;</span>
<span id="cb34-14"><a href="preparing-the-supplies-for-stan.html#cb34-14" tabindex="-1"></a>  vector[N1] u;</span>
<span id="cb34-15"><a href="preparing-the-supplies-for-stan.html#cb34-15" tabindex="-1"></a>}</span>
<span id="cb34-16"><a href="preparing-the-supplies-for-stan.html#cb34-16" tabindex="-1"></a></span>
<span id="cb34-17"><a href="preparing-the-supplies-for-stan.html#cb34-17" tabindex="-1"></a>transformed parameters{</span>
<span id="cb34-18"><a href="preparing-the-supplies-for-stan.html#cb34-18" tabindex="-1"></a>  vector[N1] theta;</span>
<span id="cb34-19"><a href="preparing-the-supplies-for-stan.html#cb34-19" tabindex="-1"></a>  vector[N1] thetaSyn;</span>
<span id="cb34-20"><a href="preparing-the-supplies-for-stan.html#cb34-20" tabindex="-1"></a>  vector[N1] thetaFH;</span>
<span id="cb34-21"><a href="preparing-the-supplies-for-stan.html#cb34-21" tabindex="-1"></a>  vector[N1] gammaj;</span>
<span id="cb34-22"><a href="preparing-the-supplies-for-stan.html#cb34-22" tabindex="-1"></a>  real<span class="sc">&lt;</span>lower<span class="ot">=</span><span class="dv">0</span><span class="sc">&gt;</span> sigma_u;</span>
<span id="cb34-23"><a href="preparing-the-supplies-for-stan.html#cb34-23" tabindex="-1"></a>  thetaSyn <span class="ot">=</span> X <span class="sc">*</span> beta;</span>
<span id="cb34-24"><a href="preparing-the-supplies-for-stan.html#cb34-24" tabindex="-1"></a>  theta <span class="ot">=</span> thetaSyn <span class="sc">+</span> u;</span>
<span id="cb34-25"><a href="preparing-the-supplies-for-stan.html#cb34-25" tabindex="-1"></a>  sigma_u <span class="ot">=</span> <span class="fu">sqrt</span>(sigma2_u);</span>
<span id="cb34-26"><a href="preparing-the-supplies-for-stan.html#cb34-26" tabindex="-1"></a>  gammaj <span class="ot">=</span>  <span class="fu">to_vector</span>(sigma_u .<span class="sc">/</span> (sigma_u <span class="sc">+</span> sigma_e));</span>
<span id="cb34-27"><a href="preparing-the-supplies-for-stan.html#cb34-27" tabindex="-1"></a>  thetaFH <span class="ot">=</span> (gammaj) .<span class="sc">*</span> y <span class="sc">+</span> (<span class="dv">1</span><span class="sc">-</span>gammaj).<span class="sc">*</span>thetaSyn; </span>
<span id="cb34-28"><a href="preparing-the-supplies-for-stan.html#cb34-28" tabindex="-1"></a>}</span>
<span id="cb34-29"><a href="preparing-the-supplies-for-stan.html#cb34-29" tabindex="-1"></a></span>
<span id="cb34-30"><a href="preparing-the-supplies-for-stan.html#cb34-30" tabindex="-1"></a>model {</span>
<span id="cb34-31"><a href="preparing-the-supplies-for-stan.html#cb34-31" tabindex="-1"></a>  <span class="sc">/</span><span class="er">/</span> likelihood</span>
<span id="cb34-32"><a href="preparing-the-supplies-for-stan.html#cb34-32" tabindex="-1"></a>  y <span class="sc">~</span> <span class="fu">normal</span>(theta, sigma_e); </span>
<span id="cb34-33"><a href="preparing-the-supplies-for-stan.html#cb34-33" tabindex="-1"></a>  <span class="sc">/</span><span class="er">/</span> priors</span>
<span id="cb34-34"><a href="preparing-the-supplies-for-stan.html#cb34-34" tabindex="-1"></a>  beta <span class="sc">~</span> <span class="fu">normal</span>(<span class="dv">0</span>, <span class="dv">100</span>);</span>
<span id="cb34-35"><a href="preparing-the-supplies-for-stan.html#cb34-35" tabindex="-1"></a>  u <span class="sc">~</span> <span class="fu">normal</span>(<span class="dv">0</span>, sigma_u);</span>
<span id="cb34-36"><a href="preparing-the-supplies-for-stan.html#cb34-36" tabindex="-1"></a>  sigma2_u <span class="sc">~</span> <span class="fu">inv_gamma</span>(<span class="fl">0.0001</span>, <span class="fl">0.0001</span>);</span>
<span id="cb34-37"><a href="preparing-the-supplies-for-stan.html#cb34-37" tabindex="-1"></a>}</span>
<span id="cb34-38"><a href="preparing-the-supplies-for-stan.html#cb34-38" tabindex="-1"></a></span>
<span id="cb34-39"><a href="preparing-the-supplies-for-stan.html#cb34-39" tabindex="-1"></a>generated quantities{</span>
<span id="cb34-40"><a href="preparing-the-supplies-for-stan.html#cb34-40" tabindex="-1"></a>  vector[N2] y_pred;</span>
<span id="cb34-41"><a href="preparing-the-supplies-for-stan.html#cb34-41" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>N2) {</span>
<span id="cb34-42"><a href="preparing-the-supplies-for-stan.html#cb34-42" tabindex="-1"></a>    y_pred[j] <span class="ot">=</span> <span class="fu">normal_rng</span>(Xs[j] <span class="sc">*</span> beta, sigma_u);</span>
<span id="cb34-43"><a href="preparing-the-supplies-for-stan.html#cb34-43" tabindex="-1"></a>  }</span>
<span id="cb34-44"><a href="preparing-the-supplies-for-stan.html#cb34-44" tabindex="-1"></a>}</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Compiling the model in <code>STAN</code>.
Here’s the process to compile the <code>STAN</code> code from R:</li>
</ol>
<p>This code utilizes the <code>rstan</code> library to fit a Bayesian model using the file <code>17FH_normal.stan</code>, which contains the model written in the Stan probabilistic modeling language.</p>
<p>Initially, the <code>stan()</code> function is employed to fit the model to the <code>sample_data</code>. The arguments passed to <code>stan()</code> include the file containing the model (<code>fit_FH_normal</code>), the data (<code>sample_data</code>), and control arguments for managing the model fitting process, such as the number of iterations for the warmup period (<code>warmup</code>), the sampling period (<code>iter</code>), and the number of CPU cores to use for the fitting process (<code>cores</code>).</p>
<p>Additionally, the <code>parallel::detectCores()</code> function is used to automatically detect the number of available CPU cores. The <code>mc.cores</code> option is then set to utilize the maximum number of available cores for the model fitting.</p>
<p>The outcome of the model fitting is stored in <code>model_FH_normal</code>, which contains a sample from the posterior distribution of the model. This sample can be employed for inferences about the model parameters and predictions. Overall, this code is useful for fitting Bayesian models using Stan and conducting subsequent inferences.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="preparing-the-supplies-for-stan.html#cb35-1" tabindex="-1"></a><span class="fu">library</span>(rstan)</span>
<span id="cb35-2"><a href="preparing-the-supplies-for-stan.html#cb35-2" tabindex="-1"></a>fit_FH_normal <span class="ot">&lt;-</span> <span class="st">&quot;Recursos/03_FH_normal/modelosStan/17FH_normal.stan&quot;</span></span>
<span id="cb35-3"><a href="preparing-the-supplies-for-stan.html#cb35-3" tabindex="-1"></a><span class="fu">options</span>(<span class="at">mc.cores =</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>())</span>
<span id="cb35-4"><a href="preparing-the-supplies-for-stan.html#cb35-4" tabindex="-1"></a>rstan<span class="sc">::</span><span class="fu">rstan_options</span>(<span class="at">auto_write =</span> <span class="cn">TRUE</span>) <span class="co"># speed up running time </span></span>
<span id="cb35-5"><a href="preparing-the-supplies-for-stan.html#cb35-5" tabindex="-1"></a>model_FH_normal <span class="ot">&lt;-</span> <span class="fu">stan</span>(</span>
<span id="cb35-6"><a href="preparing-the-supplies-for-stan.html#cb35-6" tabindex="-1"></a>  <span class="at">file =</span> fit_FH_normal,  </span>
<span id="cb35-7"><a href="preparing-the-supplies-for-stan.html#cb35-7" tabindex="-1"></a>  <span class="at">data =</span> sample_data,   </span>
<span id="cb35-8"><a href="preparing-the-supplies-for-stan.html#cb35-8" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="cn">FALSE</span>,</span>
<span id="cb35-9"><a href="preparing-the-supplies-for-stan.html#cb35-9" tabindex="-1"></a>  <span class="at">warmup =</span> <span class="dv">2500</span>,         </span>
<span id="cb35-10"><a href="preparing-the-supplies-for-stan.html#cb35-10" tabindex="-1"></a>  <span class="at">iter =</span> <span class="dv">3000</span>,            </span>
<span id="cb35-11"><a href="preparing-the-supplies-for-stan.html#cb35-11" tabindex="-1"></a>  <span class="at">cores =</span> <span class="dv">4</span>              </span>
<span id="cb35-12"><a href="preparing-the-supplies-for-stan.html#cb35-12" tabindex="-1"></a>)</span>
<span id="cb35-13"><a href="preparing-the-supplies-for-stan.html#cb35-13" tabindex="-1"></a><span class="fu">saveRDS</span>(<span class="at">object =</span> model_FH_normal,</span>
<span id="cb35-14"><a href="preparing-the-supplies-for-stan.html#cb35-14" tabindex="-1"></a>        <span class="at">file =</span> <span class="st">&quot;Recursos/03_FH_normal/03_model_FH_normal.rds&quot;</span>)</span></code></pre></div>
<p>Leer el modelo</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="preparing-the-supplies-for-stan.html#cb36-1" tabindex="-1"></a>model_FH_normal<span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Recursos/03_FH_normal/03_model_FH_normal.rds&quot;</span>)</span></code></pre></div>
<div id="results-of-the-model-for-observed-domains." class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Results of the model for observed domains.<a href="preparing-the-supplies-for-stan.html#results-of-the-model-for-observed-domains." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this code, the <code>bayesplot</code>, <code>posterior</code>, and <code>patchwork</code> libraries are loaded to create graphics and visualizations of the model results.</p>
<p>Subsequently, the <code>as.array()</code> and <code>as_draws_matrix()</code> functions are used to extract samples from the posterior distribution of the parameter <code>theta</code> from the model. Then, 100 rows of these samples are randomly selected using the <code>sample()</code> function, resulting in the <code>y_pred2</code> matrix.</p>
<p>Finally, the <code>ppc_dens_overlay()</code> function from <code>bayesplot</code> is utilized to plot a comparison between the empirical distribution of the observed variable <code>pobreza</code> in the data (<code>data_dir$pobreza</code>) and the simulated posterior predictive distributions for the same variable (<code>y_pred2</code>). The <code>ppc_dens_overlay()</code> function generates a density plot for both distributions, facilitating the visualization of their comparison.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="preparing-the-supplies-for-stan.html#cb37-1" tabindex="-1"></a><span class="fu">library</span>(bayesplot)</span>
<span id="cb37-2"><a href="preparing-the-supplies-for-stan.html#cb37-2" tabindex="-1"></a><span class="fu">library</span>(posterior)</span>
<span id="cb37-3"><a href="preparing-the-supplies-for-stan.html#cb37-3" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb37-4"><a href="preparing-the-supplies-for-stan.html#cb37-4" tabindex="-1"></a>y_pred_B <span class="ot">&lt;-</span> <span class="fu">as.array</span>(model_FH_normal, <span class="at">pars =</span> <span class="st">&quot;theta&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-5"><a href="preparing-the-supplies-for-stan.html#cb37-5" tabindex="-1"></a>  <span class="fu">as_draws_matrix</span>()</span>
<span id="cb37-6"><a href="preparing-the-supplies-for-stan.html#cb37-6" tabindex="-1"></a>rowsrandom <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(y_pred_B), <span class="dv">100</span>)</span>
<span id="cb37-7"><a href="preparing-the-supplies-for-stan.html#cb37-7" tabindex="-1"></a>y_pred2 <span class="ot">&lt;-</span> y_pred_B[rowsrandom, ]</span>
<span id="cb37-8"><a href="preparing-the-supplies-for-stan.html#cb37-8" tabindex="-1"></a>p1 <span class="ot">&lt;-</span>  <span class="fu">ppc_dens_overlay</span>(<span class="at">y =</span> <span class="fu">as.numeric</span>(data_dir<span class="sc">$</span>pobreza), y_pred2)</span>
<span id="cb37-9"><a href="preparing-the-supplies-for-stan.html#cb37-9" tabindex="-1"></a></span>
<span id="cb37-10"><a href="preparing-the-supplies-for-stan.html#cb37-10" tabindex="-1"></a><span class="co"># ggsave(plot = p1,</span></span>
<span id="cb37-11"><a href="preparing-the-supplies-for-stan.html#cb37-11" tabindex="-1"></a><span class="co">#        filename = &quot;Recursos/Día2/Sesion1/0Recursos/FH1.png&quot;,</span></span>
<span id="cb37-12"><a href="preparing-the-supplies-for-stan.html#cb37-12" tabindex="-1"></a><span class="co">#        scale = 2)</span></span>
<span id="cb37-13"><a href="preparing-the-supplies-for-stan.html#cb37-13" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="Recursos/03_FH_normal/04_ppc_normal.png" /></p>
<p><span style="color:red"><strong>The results indicate that using the Fay-Herriot normal method is not possible, as we are obtaining outcomes outside the boundaries.</strong></span></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="estimation-procedure.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="area-models---arcsin-transformation..html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/psirusteam/2021ASDA/03_S1_Fay_Herriot_normal.qmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Area models for estimating poverty and labor market indicators.pdf", "Area models for estimating poverty and labor market indicators.epub", "Area models for estimating poverty and labor market indicators.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"tconfig": null
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
