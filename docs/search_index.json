[["index.html", "Workshop material", " Workshop material In the following link you will find the R routines developed for the workshop. Descargar "],["sesión-1--census-and-satellite-information.html", "Chapter 1 Sesión 1- Census and satellite information ", " Chapter 1 Sesión 1- Census and satellite information "],["use-of-satellite-imagery-and-sae.html", "1.1 Use of Satellite Imagery and SAE", " 1.1 Use of Satellite Imagery and SAE One of the pioneering articles in small area estimation was the paper by Singh, R, et al. (2002), which addressed crop yield estimation for the tehsils (sub-administrative units) of Rohtak district in Haryana, India. Raster images represent the world through a set of contiguous equally spaced cells known as pixels. These images contain information like a geographic information system and a coordinate reference system. Images store an identifier, a value in each pixel (or a vector with different values), and each cell is associated with a color scale. Images can be obtained in raw and processed forms. The former contains only color layers, while the latter also contains values that have been processed in each cell (vegetation indices, light intensity, type of vegetation). Raw information can be used to train desired features (roads, crop types, forest/non-forest). Fortunately, in Google Earth Engine, we find many processed indicators associated with a pixel. These indicators can be aggregated at a geographical area level. "],["satellite-image-data-sources.html", "1.2 Satellite Image Data Sources", " 1.2 Satellite Image Data Sources Some of the main sources of satellite images include: USGS Earth Explorer Land Processes Distributed Active Archive Center (LP DAAC) NASA Earthdata Search Copernicus Open Access Hub AWS Public Dataset - Landsat However, most of these sources are centralized within Google Earth Engine, which allows searching for satellite image data sources. GEE can be managed through APIs in different programming languages: JavaScript (by default), Python, and R (rgee package). Here’s the translation: "],["google-earth-engine.html", "1.3 Google Earth Engine", " 1.3 Google Earth Engine Create an account at this link. Once logged in, you can search for datasets of interest: Night Lights Image Upon searching for the dataset, you can open a code editor provided by Google in JavaScript. Copy and paste the syntax provided by the dataset search to visualize the raster image and obtain statements allowing for the retrieval of the dataset of interest later in R. Syntax in JavaScript Sure, here’s the translation of the instructions: "],["installing-rgee.html", "1.4 Installing rgee", " 1.4 Installing rgee Download and install Anaconda or Conda from here. Open Anaconda Prompt and set up a working environment (Python environment JAM2023) using the following commands: conda env list conda create -n JAM2023 python=3.9 activate JAM2023 pip install google-api-python-client pip install earthengine-api pip install numpy List available Python environments in Anaconda Prompt: conda env list Once you’ve identified the path of the JAM2023 environment, set it in R (remember to change \\ to /). Install reticulate and rgee, load packages for spatial processing, and set up the working environment as follows: library(reticulate) # Connection with Python library(rgee) # Connection with Google Earth Engine library(sf) # Package for handling geographic data library(dplyr) # Package for data processing library(magrittr) rgee_environment_dir = &quot;C:/Users/gnieto/Anaconda3/envs/JAM2023/python.exe&quot; # Set up Python (Sometimes not detected and R needs to be restarted) reticulate::use_python(rgee_environment_dir, required=T) rgee::ee_install_set_pyenv(py_path = rgee_environment_dir, py_env = &quot;JAM2023&quot;) Sys.setenv(RETICULATE_PYTHON = rgee_environment_dir) Sys.setenv(EARTHENGINE_PYTHON = rgee_environment_dir) Once the environment is configured, you can initialize a Google Earth Engine session as follows: rgee::ee_Initialize(drive = T) Session started successfully Notes: Each session must be initialized with the command rgee::ee_Initialize(drive = T). JavaScript commands invoking methods with “.” are replaced by the dollar sign ($), for example: ee.ImageCollection().filterDate() # JavaScript ee$ImageCollection()$filterDate() # R ¡Claro! Aquí tienes la traducción de los pasos para descargar información satelital: 1.4.1 Downloading Satellite Information Step 1: Have the shapefiles ready. shape &lt;- read_sf(&quot;Shapefile/JAM2_cons.shp&quot;) plot(shape[&quot;geometry&quot;]) Shapefile Step 2: Select the image file you want to process, for example, night lights. lights &lt;- ee$ImageCollection(&quot;NOAA/DMSP-OLS/NIGHTTIME_LIGHTS&quot;) %&gt;% ee$ImageCollection$filterDate(&quot;2013-01-01&quot;, &quot;2014-01-01&quot;) %&gt;% ee$ImageCollection$map(function(x) x$select(&quot;stable_lights&quot;)) %&gt;% ee$ImageCollection$toBands() Step 3: Download the information. ## Takes about 10 minutes lights_shape &lt;- map(unique(shape$dam2), ~tryCatch(ee_extract( x = lights, y = shape[&quot;dam2&quot;] %&gt;% filter(dam2 == .x), ee$Reducer$mean(), sf = FALSE ) %&gt;% mutate(dam2 = .x), error = function(e)data.frame(dam2 = .x))) lights_shape %&lt;&gt;% bind_rows() tba(lights_shape, cap = &quot;Average of night lights&quot;) Tabla 1.1: Average standardized night lights dam2 stable_lights_mean 0101 0.9393 0102 1.6857 0103 1.6900 0201 -0.4380 0202 1.4627 0203 1.3519 0204 1.6333 0205 1.7522 0206 1.7522 0207 1.7444 Repeat the routine for: Soil type: crops-coverfraction (Percentage of crop cover) and urban-coverfraction (Percentage of urban cover) available at https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_Landcover_100m_Proba-V-C3_Global#description Travel time to the nearest hospital or clinic (accessibility) and travel time to the nearest hospital or clinic using non-motorized transport (accessibility_walking_only) information available at https://developers.google.com/earth-engine/datasets/catalog/Oxford_MAP_accessibility_to_healthcare_2019 Human modification, considering human settlements, agriculture, transportation, mining, energy production, and electrical infrastructure. You can find satellite information at the following link: https://developers.google.com/earth-engine/datasets/catalog/CSP_HM_GlobalHumanModification#description Paso 4: Consolidate the information. Tabla 1.2: Standardized satellite predictors dam2 stable_lights_mean crops.coverfraction_mean urban.coverfraction_mean gHM_mean accessibility_mean accessibility_walking_only_mean stable_lights_sum crops.coverfraction_sum urban.coverfraction_sum gHM_sum accessibility_sum accessibility_walking_only_sum 0101 0.9393 -0.5459 0.4390 0.5741 -0.7760 -0.9315 -1.2660 -0.5849 -0.8078 -1.1991 -0.6242 -0.8780 0102 1.6857 -0.7090 2.2891 1.8346 -0.8897 -1.2588 -1.7964 -0.5947 -1.2224 -1.2993 -0.6272 -0.8873 0103 1.6900 -0.3571 2.0344 1.7510 -0.8684 -1.2055 -1.6990 -0.5880 -1.0667 -1.2842 -0.6269 -0.8866 0201 -0.4380 -0.0874 -0.6524 -0.6504 0.0531 0.0511 1.0737 -0.1234 -0.6327 0.0186 -0.2048 -0.2380 0202 1.4627 -0.6237 1.1018 0.8775 -0.8226 -1.0846 -0.8523 -0.5884 0.1016 -1.1468 -0.6231 -0.8757 0203 1.3519 -0.6402 0.9281 0.8771 -0.6780 -0.9356 -0.8100 -0.5891 0.0754 -1.1302 -0.6160 -0.8673 0204 1.6333 -0.5050 0.9165 1.0157 -0.8334 -1.1168 -0.6630 -0.5781 0.0671 -1.1229 -0.6232 -0.8762 0205 1.7522 -0.6844 2.3011 1.8174 -0.8888 -1.2573 -1.2927 -0.5937 -0.0489 -1.2119 -0.6266 -0.8856 0206 1.7522 -0.4289 2.1777 1.8272 -0.8968 -1.2779 -1.8138 -0.5914 -1.3125 -1.3046 -0.6273 -0.8875 0207 1.7444 -0.4662 1.7771 1.6966 -0.8322 -1.1072 -1.5815 -0.5898 -1.0882 -1.2650 -0.6264 -0.8850 1.4.2 Night Lights 1.4.3 Crop Cover 1.4.4 Urban Cover 1.4.5 Human Modification Human Modification Sum Human Modification Satellite 1.4.6 Average Travel Time to Hospital Average Travel Time to Hospital Sum Average Travel Time to Hospital Satellite 1.4.7 Average Travel Time to Hospital by Non-Motorized Vehicle Average Travel Time to Hospital by Non-Motorized Vehicle Sum Average Travel Time to Hospital by Non-Motorized Vehicle Satellite "],["population-and-housing-censuses.html", "1.5 Population and Housing Censuses", " 1.5 Population and Housing Censuses It’s necessary to define the variables for the country you want to work with. As a first step, access to the country’s census data is required. You can access it from the following link: https://redatam.org/en/microdata, where you’ll find a .zip file with the microdata for the country. To read this dataset, you’ll need to use the redatam.open function from the redatam library. This function directly depends on the census dictionary from REDATAM software, which is a file with a .dicx extension and should be located in the same folder as the data being read. This is how an object is created within R that merges the dictionary with the microdata from the census database. After performing a process in R using REDATAM syntax, we have the following table: dam2 area1 sex2 age tiene_sanitario tiene_electricidad tiene_acueducto tiene_gas eliminar_basura tiene_internet material_paredes material_techo TRANMODE_PRIVATE_CAR ODDJOB WORKED 0101 1.0000 0.5087 2.5043 0.0019 0.7596 0.9545 0.7728 0.7804 0.9453 0.0095 0.7589 0.1472 0.0090 0.3488 0102 1.0000 0.4754 2.4689 0.0011 0.9064 0.9867 0.9181 0.9084 0.9882 0.0007 0.9060 0.0680 0.0126 0.2859 0103 1.0000 0.5037 2.2858 0.0152 0.6930 0.9741 0.7440 0.7362 0.9712 0.0028 0.6942 0.0491 0.0135 0.2819 0201 0.5147 0.5060 2.5517 0.0138 0.2342 0.8546 0.2955 0.6589 0.8386 0.0159 0.2215 0.1709 0.0077 0.3647 0202 0.9986 0.5376 2.7635 0.0028 0.3852 0.8236 0.4958 0.4138 0.6884 0.0014 0.5081 0.4489 0.0046 0.4512 0203 0.9754 0.5432 2.8765 0.0015 0.3326 0.7915 0.4864 0.3495 0.5945 0.0014 0.5135 0.5314 0.0042 0.4880 0204 1.0000 0.5300 2.6401 0.0042 0.5720 0.8835 0.6198 0.6166 0.7998 0.0016 0.5975 0.3197 0.0071 0.4125 0205 1.0000 0.5182 2.6644 0.0013 0.8060 0.9590 0.8347 0.8130 0.9091 0.0030 0.8234 0.3291 0.0068 0.4559 0206 1.0000 0.5157 2.3750 0.0290 0.0285 0.8879 0.1433 0.1516 0.9034 0.0258 0.0320 0.0639 0.0139 0.2914 0207 1.0000 0.5097 2.4257 0.0465 0.1581 0.8925 0.2551 0.2337 0.9198 0.0162 0.1512 0.0717 0.0169 0.3121 1.5.1 Mapas de las variables con información censal. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
